import{_ as a,c as e,o as t,ag as i}from"./chunks/framework.CA7LwMyB.js";const k=JSON.parse('{"title":"Error Handling and Retry Strategy","description":"","frontmatter":{},"headers":[],"relativePath":"reference/error-handling.md","filePath":"reference/error-handling.md"}'),n={name:"reference/error-handling.md"};function l(r,s,o,p,h,d){return t(),e("div",null,[...s[0]||(s[0]=[i(`<h1 id="error-handling-and-retry-strategy" tabindex="-1">Error Handling and Retry Strategy <a class="header-anchor" href="#error-handling-and-retry-strategy" aria-label="Permalink to &quot;Error Handling and Retry Strategy&quot;">​</a></h1><p>How the action handles failures and retries API requests.</p><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>The asana-github-sync action is designed with a <strong>fail-safe philosophy</strong>: errors in syncing to Asana should never block your PR workflows or deployments.</p><h2 id="never-fails-workflows" tabindex="-1">Never Fails Workflows <a class="header-anchor" href="#never-fails-workflows" aria-label="Permalink to &quot;Never Fails Workflows&quot;">​</a></h2><p><strong>Critical Design Decision:</strong> This action catches all errors and never causes workflow failures.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// All errors are caught and logged</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  core.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`Action error: \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">error</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">message</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Workflow continues - no throw or process.exit()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="what-this-means" tabindex="-1">What This Means <a class="header-anchor" href="#what-this-means" aria-label="Permalink to &quot;What This Means&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Scenario</th><th>Behavior</th></tr></thead><tbody><tr><td>Asana API error</td><td>⚠️ Logged, workflow succeeds</td></tr><tr><td>Invalid configuration</td><td>⚠️ Logged, workflow succeeds</td></tr><tr><td>Network timeout</td><td>⚠️ Logged, workflow succeeds</td></tr><tr><td>Task not found</td><td>⚠️ Logged, workflow succeeds</td></tr><tr><td>Authentication failure</td><td>⚠️ Logged, workflow succeeds</td></tr></tbody></table><p>Your PR can always be merged, reviewed, or closed regardless of Asana sync status.</p><div class="warning custom-block"><p class="custom-block-title">Important</p><p>Check GitHub Actions logs if you notice Asana tasks aren&#39;t updating. The action won&#39;t block your workflow, but errors will be logged there.</p></div><h2 id="retry-strategy" tabindex="-1">Retry Strategy <a class="header-anchor" href="#retry-strategy" aria-label="Permalink to &quot;Retry Strategy&quot;">​</a></h2><p>The action automatically retries failed API requests with exponential backoff.</p><h3 id="retry-configuration" tabindex="-1">Retry Configuration <a class="header-anchor" href="#retry-configuration" aria-label="Permalink to &quot;Retry Configuration&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Setting</th><th>Value</th></tr></thead><tbody><tr><td>Max attempts</td><td>3</td></tr><tr><td>Initial delay</td><td>1 second</td></tr><tr><td>Backoff multiplier</td><td>2x</td></tr><tr><td>Max delay</td><td>10 seconds</td></tr></tbody></table><h3 id="example-retry-sequence" tabindex="-1">Example Retry Sequence <a class="header-anchor" href="#example-retry-sequence" aria-label="Permalink to &quot;Example Retry Sequence&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Attempt 1: Immediate</span></span>
<span class="line"><span>  ↓ (fails)</span></span>
<span class="line"><span>Wait 1 second</span></span>
<span class="line"><span>Attempt 2: Try again</span></span>
<span class="line"><span>  ↓ (fails)</span></span>
<span class="line"><span>Wait 2 seconds</span></span>
<span class="line"><span>Attempt 3: Final try</span></span>
<span class="line"><span>  ↓ (succeeds or gives up)</span></span></code></pre></div><h3 id="retryable-errors" tabindex="-1">Retryable Errors <a class="header-anchor" href="#retryable-errors" aria-label="Permalink to &quot;Retryable Errors&quot;">​</a></h3><p>These errors trigger automatic retries:</p><table tabindex="0"><thead><tr><th>Error Type</th><th>HTTP Status</th><th>Description</th></tr></thead><tbody><tr><td>Rate limit</td><td>429</td><td>Too many requests</td></tr><tr><td>Server error</td><td>500</td><td>Internal server error</td></tr><tr><td>Bad gateway</td><td>502</td><td>Upstream error</td></tr><tr><td>Service unavailable</td><td>503</td><td>Temporary unavailability</td></tr><tr><td>Gateway timeout</td><td>504</td><td>Upstream timeout</td></tr><tr><td>Network error</td><td>-</td><td>Connection reset, timeout</td></tr></tbody></table><h3 id="non-retryable-errors" tabindex="-1">Non-Retryable Errors <a class="header-anchor" href="#non-retryable-errors" aria-label="Permalink to &quot;Non-Retryable Errors&quot;">​</a></h3><p>These errors fail immediately (no retries):</p><table tabindex="0"><thead><tr><th>Error Type</th><th>HTTP Status</th><th>Description</th></tr></thead><tbody><tr><td>Bad request</td><td>400</td><td>Invalid data format</td></tr><tr><td>Unauthorized</td><td>401</td><td>Invalid Asana token</td></tr><tr><td>Forbidden</td><td>403</td><td>Insufficient permissions</td></tr><tr><td>Not found</td><td>404</td><td>Task or project doesn&#39;t exist</td></tr><tr><td>Conflict</td><td>409</td><td>Resource conflict</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">Why No Retries?</p><p>Client errors (4xx) indicate configuration problems that won&#39;t be fixed by retrying. Check your rules configuration and Asana GIDs.</p></div><h2 id="rate-limits" tabindex="-1">Rate Limits <a class="header-anchor" href="#rate-limits" aria-label="Permalink to &quot;Rate Limits&quot;">​</a></h2><h3 id="asana-api-limits" tabindex="-1">Asana API Limits <a class="header-anchor" href="#asana-api-limits" aria-label="Permalink to &quot;Asana API Limits&quot;">​</a></h3><p>Asana enforces rate limits on API requests:</p><table tabindex="0"><thead><tr><th>Token Type</th><th>Requests per Minute</th></tr></thead><tbody><tr><td>Personal Access Token</td><td>150</td></tr><tr><td>OAuth App Token</td><td>1,500</td></tr></tbody></table><div class="warning custom-block"><p class="custom-block-title">Rate Limit Considerations</p><ul><li>Multiple PRs in quick succession can hit rate limits</li><li>Each field update requires API calls (2-3 per task)</li><li>Field schema fetching adds extra calls (cached per run)</li><li>Comment fetching adds 1 API call per PR</li></ul></div><h3 id="rate-limit-behavior" tabindex="-1">Rate Limit Behavior <a class="header-anchor" href="#rate-limit-behavior" aria-label="Permalink to &quot;Rate Limit Behavior&quot;">​</a></h3><p>When rate limited (429 response):</p><ol><li>Action waits for the retry delay</li><li>Retries up to 3 times total</li><li>If still rate limited, logs error and continues</li><li>Other PRs in queue may succeed</li></ol><h3 id="avoiding-rate-limits" tabindex="-1">Avoiding Rate Limits <a class="header-anchor" href="#avoiding-rate-limits" aria-label="Permalink to &quot;Avoiding Rate Limits&quot;">​</a></h3><p><strong>Best practices:</strong></p><ol><li>Use Personal Access Tokens for low-traffic repos (&lt; 150 PRs/hour)</li><li>Use OAuth tokens for high-traffic repos</li><li>Minimize unique custom field GIDs across rules</li><li>Avoid <code>extract_from_comments</code> if possible (saves 1 API call)</li></ol><h2 id="error-types-and-solutions" tabindex="-1">Error Types and Solutions <a class="header-anchor" href="#error-types-and-solutions" aria-label="Permalink to &quot;Error Types and Solutions&quot;">​</a></h2><h3 id="authentication-errors-401" tabindex="-1">Authentication Errors (401) <a class="header-anchor" href="#authentication-errors-401" aria-label="Permalink to &quot;Authentication Errors (401)&quot;">​</a></h3><p><strong>Error message:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Error: Request failed with status code 401</span></span></code></pre></div><p><strong>Causes:</strong></p><ul><li>Invalid or expired Asana Personal Access Token</li><li>Token doesn&#39;t have access to workspace/project</li></ul><p><strong>Solutions:</strong></p><ol><li>Regenerate Asana token at <a href="https://app.asana.com/0/my-apps" target="_blank" rel="noreferrer">https://app.asana.com/0/my-apps</a></li><li>Verify token is added to GitHub Secrets correctly</li><li>Ensure token has access to the workspace/project</li></ol><h3 id="permission-errors-403" tabindex="-1">Permission Errors (403) <a class="header-anchor" href="#permission-errors-403" aria-label="Permalink to &quot;Permission Errors (403)&quot;">​</a></h3><p><strong>Error message:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Error: Request failed with status code 403</span></span></code></pre></div><p><strong>Causes:</strong></p><ul><li>Token lacks permissions for the requested operation</li><li>Workspace or project privacy settings</li><li>Field is read-only or restricted</li></ul><p><strong>Solutions:</strong></p><ol><li>Verify token owner has access to the project</li><li>Check custom field permissions in Asana</li><li>Ensure project isn&#39;t archived or restricted</li></ol><h3 id="not-found-errors-404" tabindex="-1">Not Found Errors (404) <a class="header-anchor" href="#not-found-errors-404" aria-label="Permalink to &quot;Not Found Errors (404)&quot;">​</a></h3><p><strong>Error message:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Error: Request failed with status code 404</span></span></code></pre></div><p><strong>Causes:</strong></p><ul><li>Task GID doesn&#39;t exist</li><li>Project GID is incorrect</li><li>Field GID is invalid</li><li>Task was deleted in Asana</li></ul><p><strong>Solutions:</strong></p><ol><li>Verify all GIDs in your rules configuration</li><li>Check that tasks exist in Asana before PR creates link</li><li>Ensure project hasn&#39;t been deleted</li></ol><h3 id="validation-errors-400" tabindex="-1">Validation Errors (400) <a class="header-anchor" href="#validation-errors-400" aria-label="Permalink to &quot;Validation Errors (400)&quot;">​</a></h3><p><strong>Error message:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Error: Request failed with status code 400</span></span></code></pre></div><p><strong>Causes:</strong></p><ul><li>Invalid field value for custom field type</li><li>Enum field value doesn&#39;t match available options</li><li>Date field has invalid format</li><li>Required field missing value</li></ul><p><strong>Solutions:</strong></p><ol><li>For enum fields, ensure value matches option name exactly</li><li>For date fields, use YYYY-MM-DD format</li><li>For number fields, ensure value is numeric</li><li>Check field type in Asana project settings</li></ol><h2 id="field-schema-caching" tabindex="-1">Field Schema Caching <a class="header-anchor" href="#field-schema-caching" aria-label="Permalink to &quot;Field Schema Caching&quot;">​</a></h2><p>To optimize API usage, field schemas are cached during each action run.</p><h3 id="how-it-works" tabindex="-1">How It Works <a class="header-anchor" href="#how-it-works" aria-label="Permalink to &quot;How It Works&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>First field update for field GID &quot;123&quot;:</span></span>
<span class="line"><span>  1. Fetch schema from Asana (1 API call)</span></span>
<span class="line"><span>  2. Cache schema in memory</span></span>
<span class="line"><span>  3. Coerce value using schema</span></span>
<span class="line"><span>  4. Update field</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Subsequent updates for field GID &quot;123&quot;:</span></span>
<span class="line"><span>  1. Use cached schema (0 API calls)</span></span>
<span class="line"><span>  2. Coerce value</span></span>
<span class="line"><span>  3. Update field</span></span></code></pre></div><h3 id="performance-impact" tabindex="-1">Performance Impact <a class="header-anchor" href="#performance-impact" aria-label="Permalink to &quot;Performance Impact&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Scenario</th><th>API Calls</th></tr></thead><tbody><tr><td>Update 1 field on 5 tasks</td><td>6 (1 schema + 5 updates)</td></tr><tr><td>Update 3 different fields on 5 tasks</td><td>18 (3 schemas + 15 updates)</td></tr><tr><td>Update same field on 10 tasks</td><td>11 (1 schema + 10 updates)</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">Optimization</p><p>Reuse the same field GIDs across rules to benefit from caching.</p></div><h2 id="comment-deduplication" tabindex="-1">Comment Deduplication <a class="header-anchor" href="#comment-deduplication" aria-label="Permalink to &quot;Comment Deduplication&quot;">​</a></h2><p>The action prevents duplicate PR comments when workflows re-run.</p><h3 id="how-it-works-1" tabindex="-1">How It Works <a class="header-anchor" href="#how-it-works-1" aria-label="Permalink to &quot;How It Works&quot;">​</a></h3><ol><li>Before posting a comment, fetch existing PR comments</li><li>Compare new comment body with existing comments</li><li>If exact match found, skip posting</li><li>If no match, post the new comment</li></ol><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Comments are matched by <strong>exact body text</strong>. Even minor differences (whitespace, capitalization) will post a new comment.</p></div><h2 id="debugging-failures" tabindex="-1">Debugging Failures <a class="header-anchor" href="#debugging-failures" aria-label="Permalink to &quot;Debugging Failures&quot;">​</a></h2><h3 id="check-github-actions-logs" tabindex="-1">Check GitHub Actions Logs <a class="header-anchor" href="#check-github-actions-logs" aria-label="Permalink to &quot;Check GitHub Actions Logs&quot;">​</a></h3><ol><li>Go to the Actions tab in your repository</li><li>Click the failed/completed workflow run</li><li>Click the job that ran asana-github-sync</li><li>Expand the action step</li><li>Look for error messages in red</li></ol><h3 id="common-log-patterns" tabindex="-1">Common Log Patterns <a class="header-anchor" href="#common-log-patterns" aria-label="Permalink to &quot;Common Log Patterns&quot;">​</a></h3><p><strong>Rate limit hit:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Error: Request failed with status code 429</span></span>
<span class="line"><span>Retrying in 1000ms...</span></span></code></pre></div><p><strong>Authentication failure:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Error: Request failed with status code 401</span></span>
<span class="line"><span>Check your ASANA_TOKEN secret</span></span></code></pre></div><p><strong>Invalid field GID:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Error: Request failed with status code 404</span></span>
<span class="line"><span>Field GID &#39;1234567890&#39; not found</span></span></code></pre></div><h3 id="enable-debug-logging" tabindex="-1">Enable Debug Logging <a class="header-anchor" href="#enable-debug-logging" aria-label="Permalink to &quot;Enable Debug Logging&quot;">​</a></h3><p>Add to your workflow:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  ACTIONS_STEP_DEBUG</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><p>This enables verbose logging including API requests and responses.</p><h2 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best Practices&quot;">​</a></h2><h3 id="_1-monitor-action-output" tabindex="-1">1. Monitor Action Output <a class="header-anchor" href="#_1-monitor-action-output" aria-label="Permalink to &quot;1. Monitor Action Output&quot;">​</a></h3><p>Periodically check that your rules are executing successfully:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">- </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Check sync status</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    echo &quot;Tasks synced: \${{ steps.asana.outputs.task_ids }}&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    echo &quot;Updates applied: \${{ steps.asana.outputs.field_updates }}&quot;</span></span></code></pre></div><h3 id="_2-test-rules-in-staging" tabindex="-1">2. Test Rules in Staging <a class="header-anchor" href="#_2-test-rules-in-staging" aria-label="Permalink to &quot;2. Test Rules in Staging&quot;">​</a></h3><p>Use a staging Asana project to test rules before production:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">- </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">planningcenter/asana-github-sync@main</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    rules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      rules:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        - when:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            event: pull_request</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          then:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            update_fields:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">              &#39;1234567890&#39;: &#39;0987654321&#39;  # Staging project GID</span></span></code></pre></div><h3 id="_3-use-specific-error-messages" tabindex="-1">3. Use Specific Error Messages <a class="header-anchor" href="#_3-use-specific-error-messages" aria-label="Permalink to &quot;3. Use Specific Error Messages&quot;">​</a></h3><p>Make PR comments informative when errors might occur:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">post_pr_comment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  ✅ Asana task updated: {{pr.title}}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  If the task didn&#39;t update, check the Actions logs.</span></span></code></pre></div><h3 id="_4-handle-missing-tasks-gracefully" tabindex="-1">4. Handle Missing Tasks Gracefully <a class="header-anchor" href="#_4-handle-missing-tasks-gracefully" aria-label="Permalink to &quot;4. Handle Missing Tasks Gracefully&quot;">​</a></h3><p>Use <code>has_asana_tasks</code> to handle PRs without task links:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">rules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Update existing tasks</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">when</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pull_request</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      has_asana_tasks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      update_fields</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;1234567890&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;In Review&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Prompt for task link if missing</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">when</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pull_request</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      has_asana_tasks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      post_pr_comment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        ⚠️ No Asana task found. Please add task URL to PR description.</span></span></code></pre></div><h2 id="see-also" tabindex="-1">See Also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;See Also&quot;">​</a></h2><ul><li><a href="/asana-github-sync/reference/validation-rules.html">Validation Rules</a> - Catch configuration errors before execution</li><li><a href="/asana-github-sync/reference/inputs-outputs.html">Inputs and Outputs</a> - Configuration reference</li><li><a href="https://docs.github.com/en/actions/monitoring-and-troubleshooting-workflows/using-workflow-run-logs" target="_blank" rel="noreferrer">GitHub Actions Logs</a> - Viewing logs</li></ul>`,105)])])}const u=a(n,[["render",l]]);export{k as __pageData,u as default};
